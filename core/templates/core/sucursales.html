{% extends 'core/base.html' %}
{% block content %}
{% load static %}
<h4>Registrar Sucursal</h4>

<form method="post" class="container">
<div class="card mb-3" style="width: 70rem;">
<div class="card-body">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="mb-2">
        {{ form.nombre.label_tag }}
        {{ form.nombre }}
    </div>

    <div class="mb-2">
        {{ form.direccion.label_tag }}
        {{ form.direccion }}
    </div>

    <div class="form-check mb-3">
        {{ form.activa }}
        {{ form.activa.label_tag }}
    </div>

    <button class="btn btn-primary">Guardar</button>
</form>
</div>
</div>

<hr>

<h4>Sucursales registradas</h4>

<table class="table table-bordered">
    <thead>
        <tr>
            <th>Nombre</th>
            <th>Direcci√≥n</th>
            <th>Estado</th>
            <th>Acciones</th>
        </tr>
    </thead>
    <tbody>
        {% for s in sucursales %}
        <tr>
            <td>{{ s.nombre }}</td>
            <td>{{ s.direccion }}</td>
            <td>
                {% if s.activa %}
                    <span class="badge bg-success">Activa</span>
                {% else %}
                    <span class="badge bg-secondary">Inactiva</span>
                {% endif %}
            </td>
            <td>
                <!-- Puedes hacer que esto abra un modal o te lleve a otra vista -->
                <a href="{% url 'editar_sucursal' s.id %}" class="btn btn-sm btn-warning">Editar</a>
                    {% csrf_token %}
                </form>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="3" class="text-center">No hay sucursales</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% if editando %}
<div class="alert alert-info">
    Editando Sucursal: <strong>{{ sucursal_editando.nombre }}</strong>
</div>
{% endif %}
{% endblock %}
